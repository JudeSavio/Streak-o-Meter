<!DOCTYPE html>
<html>
<head>
    <title>Streak-o-Meter</title> 
    <meta http-equiv='cache-control' content='no-cache'>
    <meta http-equiv='expires' content='0'>
    <meta http-equiv='pragma' content='no-cache'>
    <link rel="stylesheet" href="index.css">
    <link rel="shortcut icon" type="image/png" href="S.ico"/>
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@700&display=swap" rel="stylesheet">
    <script src="index.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
</head>
<body>
    <div class="overlay">
        <div class="streak-name-edit">
            <input class="input-text" id="message" onKeyPress="inputKey()" type="text">
            <ion-icon class = "emoji"  onclick="emoji()" name="happy"></ion-icon>
            <div class="add-button" onclick="change()"><ion-icon class="paper-plane" name="paper-plane-outline"></ion-icon></div>
        </div>
    </div>
    <div class ="banner">
        <img src="banner.png" alt="streak-meter-banner-logo">
        <div class = "color_container">
            <div class="color_pallete_one" onclick="color_picker(this.getAttribute('class'));"></div>
            <div class="color_pallete_two" onclick="color_picker(this.getAttribute('class'))"></div>
            <div class="color_pallete_three" onclick="color_picker(this.getAttribute('class'))"></div>
            <div class="color_pallete_four" onclick="color_picker(this.getAttribute('class'))"></div>
            <div class="color_pallete_five" onclick="color_picker(this.getAttribute('class'))"></div>
        </div>
    </div>
    <div class="streak-container">
        <div class="streak-box">
            <div class = "streak-number">
                <p class="num">0</p>
            </div>
            <div class="add-minus-container">
                <div class ="plus" onclick="plus()"><ion-icon name="add-circle-sharp"></ion-icon></div>
                <div class = "minus" onclick="minus()"><ion-icon name="remove-circle-sharp"></ion-icon></div>
            </div>
            <div class="pencil_box" onclick="pencil()"><ion-icon class = "pencil" name="create"></ion-icon></div>
            <div class = "streak-name">
                <h1 class="card-name">BigðŸ¦‡Batâš¡</h1>
            </div>
        </div>
        <div class="add-container"><ion-icon name="add-outline"></ion-icon></div>
    </div>
    <script>
        window.onload = function(){
            number = document.getElementsByClassName("num")[0].innerHTML;
            number = Number(number)
            console.log(number)
            var num_holder = localStorage.getItem('streak');
            console.log(number,num_holder)
            if(Number.isNaN(num_holder) || Number(num_holder) < 0 || num_holder == null || num_holder == "NaN" || num_holder == "null"){
                num_holder = Number(0)
                localStorage.setItem('streak', 0);
                console.log('Caught the NaN and set to 0')
                console.log('Working')
            }
            console.log(num_holder)
            localStorage.setItem('streak', num_holder);
            document.getElementsByClassName("num")[0].innerHTML = num_holder

            card_content = document.getElementsByClassName("card-name")[0].innerHTML
            console.log(card_content)
            name = localStorage.getItem('name')
            if(name == "undefined" || name == "null" || name == null)
            {
                localStorage.setItem('name',card_content)
            }
            document.getElementsByClassName("card-name")[0].innerHTML = localStorage.getItem('name')

            color = localStorage.getItem('color')
            console.log("Color Loaded = "+color)
            if(color != null && color != "null" && color != null && color != '')
            {
                if(color == "one")
                {
                    console.log("One was called")
                    color_picker("color_pallete_one")
                }
                if(color == "two")
                {
                    console.log("two was called")
                    color_picker("color_pallete_two")
                }
                if(color == "three")
                {
                    console.log("three was called")
                    color_picker("color_pallete_three")
                }
                if(color == "four")
                {
                    console.log("four was called")
                    color_picker("color_pallete_three")
                }
                if(color == "five")
                {
                    console.log("five was called")
                    color_picker("color_pallete_three")
                }
            }
        }
    </script>
</body>
</html>

<!-- 12-07-2021 -->
<!-- Need to add color pallete on top left -->
<!-- Need to add functionality for Grid and Add button -->